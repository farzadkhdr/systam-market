// زیادکردنی API_URL
const API_URL = 'https://your-api-server.com/api';

// فەنکشنی نوێ بۆ کارکردن لەگەڵ API
async function fetchData(endpoint, options = {}) {
  const token = localStorage.getItem('token');
  
  const response = await fetch(`${API_URL}${endpoint}`, {
    ...options,
    headers: {
      'Content-Type': 'application/json',
      'Authorization': token ? `Bearer ${token}` : '',
      ...options.headers
    }
  });
  
  return await response.json();
}

// نموونە: وەرگرتنی کەسەکان
async function loadCustomers() {
  const data = await fetchData('/customers');
  if (data.success) {
    sampleData.customers = data.data;
    populateSampleData();
  }
}

// نموونە: تۆمارکردنی فرۆشتن
async function saveSale(saleData) {
  const data = await fetchData('/sales', {
    method: 'POST',
    body: JSON.stringify(saleData)
  });
  
  if (data.success) {
    showNotification('فرۆشتنەکە تۆمار کرا!', 'success');
    return data.data;
  } else {
    showNotification('هەڵە لە تۆمارکردنی فرۆشتن!', 'error');
    return null;
  }
}